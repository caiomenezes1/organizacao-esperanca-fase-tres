<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Organização Esperança — Cadastro</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* =========================
       Layout específico da página
    ========================= */
    main.container {
      display: block;
      width: 90%;
      max-width: 1200px;
      margin: var(--space-lg) auto;
    }

    article {
      width: 100%;
      background: white;
      padding: var(--space-md);
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    header h2, header p.lead {
      font-family: 'Helvetica', sans-serif;
      margin-bottom: var(--space-sm);
    }

    form input, form textarea, form select {
      width: 100%;
      padding: var(--space-sm);
      margin-bottom: var(--space-md);
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: var(--fs-md);
    }

    form button {
      margin-top: 1rem;
      background: var(--cor-accent);
      border: none;
      color: white;
      padding: 0.8rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease, transform 0.2s ease;
      display: inline-block;
    }

    form button:hover {
      background: #095ab0;
      transform: translateY(-1px);
    }

    form button:focus {
      outline: 2px solid #0a74da;
      outline-offset: 2px;
    }

    /* Toast */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toast {
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      opacity: 0;
      transform: translateY(-20px);
      animation: fadeInOut 5s forwards;
      font-size: var(--fs-sm);
    }

    .toast.success { background: var(--cor-sucesso); }
    .toast.error { background: var(--cor-erro); }

    @keyframes fadeInOut {
      0% { opacity: 0; transform: translateY(-20px); }
      10% { opacity: 1; transform: translateY(0); }
      90% { opacity: 1; transform: translateY(0); }
      100% { opacity: 0; transform: translateY(-20px); }
    }
  </style>
</head>

<body>
  <main class="container">
    <article>
      <header>
        <h2>Cadastro de Voluntário</h2>
        <p class="lead">Preencha o formulário abaixo para se cadastrar em nossos projetos sociais.</p>
      </header>

      <form id="form-cadastro" novalidate>
        <fieldset>
          <legend>Informações Pessoais</legend>
          <label for="nome">Nome completo *</label>
          <input id="nome" required />
          <label for="email">E-mail *</label>
          <input id="email" type="email" required />
          <label for="cpf">CPF *</label>
          <input id="cpf" required maxlength="14" />
          <label for="telefone">Telefone *</label>
          <input id="telefone" required maxlength="15" />
          <label for="nascimento">Data de Nascimento *</label>
          <input id="nascimento" type="date" required />
        </fieldset>

        <fieldset>
          <legend>Endereço</legend>
          <label for="endereco">Endereço *</label>
          <input id="endereco" required />
          <label for="cep">CEP *</label>
          <input id="cep" required maxlength="9" />
          <label for="cidade">Cidade *</label>
          <input id="cidade" required />
          <label for="estado">Estado *</label>
          <select id="estado" required>
            <option value="">Selecione...</option>
            <option>SP</option><option>RJ</option><option>MG</option><option>BA</option>
            <option>RS</option><option>PR</option><option>SC</option><option>GO</option>
          </select>
        </fieldset>

        <fieldset>
          <legend>Área de Interesse</legend>
          <label for="interesse">Selecione uma opção *</label>
          <select id="interesse" required>
            <option value="">Selecione...</option>
            <option>Educação</option>
            <option>Alimentação</option>
            <option>Eventos</option>
          </select>
          <label for="mensagem">Mensagem (opcional)</label>
          <textarea id="mensagem" rows="5"></textarea>
        </fieldset>

        <button type="submit">Enviar</button>
      </form>
    </article>
  </main>

  <div class="toast-container" id="toast-container"></div>

  <script>
    const form = document.getElementById("form-cadastro");
    const toastContainer = document.getElementById("toast-container");

    function showToast(message, type = "success") {
      const toast = document.createElement("div");
      toast.className = `toast ${type}`;
      toast.textContent = message;
      toastContainer.appendChild(toast);

      // Remover toast após animação completa
      setTimeout(() => {
        toast.remove();
      }, 5000);
    }

    function mascara(i, t) {
      let v = i.value.replace(/\D/g, '');
      if(t === 'cpf') i.value = v.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
      if(t === 'telefone') i.value = v.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
      if(t === 'cep') i.value = v.replace(/(\d{5})(\d{3})/, "$1-$2");
    }

    document.getElementById('cpf').addEventListener('input', e => mascara(e.target, 'cpf'));
    document.getElementById('telefone').addEventListener('input', e => mascara(e.target, 'telefone'));
    document.getElementById('cep').addEventListener('input', e => mascara(e.target, 'cep'));

    form.addEventListener("submit", e => {
      e.preventDefault();
      const campos = form.querySelectorAll("input[required], select[required]");
      let valido = true;

      campos.forEach(campo => {
        if (!campo.value.trim()) {
          valido = false;
          showToast(`O campo "${campo.previousElementSibling.textContent.replace('*','').trim()}" está em branco.`, "error");
        }
      });

      const cpf = document.getElementById("cpf").value;
      if (cpf && !/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(cpf)) {
        valido = false;
        showToast("CPF inválido. Use o formato 000.000.000-00.", "error");
      }

      const cep = document.getElementById("cep").value;
      if (cep && !/^\d{5}-\d{3}$/.test(cep)) {
        valido = false;
        showToast("CEP inválido. Use o formato 00000-000.", "error");
      }

      if (valido) {
        showToast("Cadastro realizado com sucesso!", "success");
        form.reset();
      }
    });
  </script>
</body>
</html>
