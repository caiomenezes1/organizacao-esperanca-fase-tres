<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Organização Esperança — Cadastro</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* =========================
       Design System
    ========================= */
    :root {
      --cor-primaria: #2c3e50;
      --cor-secundaria: #18bc9c;
      --cor-accent: #3498db;
      --cor-erro: #e74c3c;
      --cor-sucesso: #27ae60;
      --cor-neutra-clara: #ecf0f1;
      --cor-neutra-escura: #34495e;

      --font-base: 'Helvetica', sans-serif;
      --fs-xxl: 3rem;
      --fs-xl: 2rem;
      --fs-lg: 1.5rem;
      --fs-md: 1.125rem;
      --fs-sm: 0.875rem;

      --space-xs: 8px;
      --space-sm: 16px;
      --space-md: 24px;
      --space-lg: 32px;
      --space-xl: 48px;
      --space-xxl: 64px;

      --grid-columns: 12;
    }

    body {
      font-family: var(--font-base);
      margin: 0;
      padding: 0;
      background-color: var(--cor-neutra-clara);
      color: var(--cor-neutra-escura);
      line-height: 1.6;
    }

    h1, h2, h3 { margin: 0 0 var(--space-sm) 0; }
    h1 { font-size: var(--fs-xxl); }
    h2 { font-size: var(--fs-xl); }
    h3 { font-size: var(--fs-lg); }

    p.lead {
      font-size: var(--fs-md);
      font-weight: bold;
    }

    a { color: var(--cor-secundaria); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Layout Principal */
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(var(--grid-columns), 1fr);
      gap: var(--space-lg);
    }

    header.site-header {
      background-color: var(--cor-primaria);
      color: white;
      padding: var(--space-md) 0;
    }

    .site-header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    main {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: var(--space-lg);
      margin-top: var(--space-lg);
    }

    main article {
      grid-column: span 8;
      background: white;
      padding: var(--space-md);
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    footer.site-footer {
      background-color: var(--cor-neutra-escura);
      color: white;
      text-align: center;
      padding: var(--space-md) 0;
      margin-top: var(--space-xl);
    }

    /* Navegação */
    .main-nav {
      display: flex;
      list-style: none;
      gap: var(--space-md);
      margin: 0;
      padding: 0;
    }

    .main-nav li { position: relative; }
    .main-nav li ul {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--cor-neutra-clara);
      list-style: none;
      padding: var(--space-sm);
      border-radius: 4px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .main-nav li:hover ul { display: block; }

    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
    }
    .hamburger span {
      display: block;
      width: 25px;
      height: 3px;
      background: white;
    }

    @media (max-width: 768px) {
      main { grid-template-columns: 1fr; }
      .main-nav { display: none; }
      .hamburger { display: flex; }
    }

    /* Botão */
    form button {
      margin-top: 1rem;
      background: var(--cor-accent);
      border: none;
      color: white;
      padding: 0.8rem 1.2rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease, transform 0.2s ease;
      display: inline-block;
    }

    form button:hover {
      background: #095ab0;
      transform: translateY(-1px);
    }

    form button:focus {
      outline: 2px solid #0a74da;
      outline-offset: 2px;
    }

    /* Inputs */
    input, textarea, select {
      width: 100%;
      padding: var(--space-sm);
      margin-bottom: var(--space-md);
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: var(--fs-md);
    }
    input:focus, textarea:focus, select:focus {
      border-color: var(--cor-secundaria);
      outline: none;
    }

    /* =========================
       Toasts (correção empilhamento)
    ========================= */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toast {
      padding: 1rem 1.5rem;
      border-radius: 6px;
      color: white;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      opacity: 0.95;
      font-size: var(--fs-sm);
      animation: fadeIn 0.5s ease, fadeOut 0.5s ease 4.5s forwards;
    }

    .toast.success { background: var(--cor-sucesso); }
    .toast.error { background: var(--cor-erro); }

    @keyframes fadeIn { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
    @keyframes fadeOut { from {opacity:1;} to {opacity:0; transform:translateY(-10px);} }
  </style>
</head>

<body>
  <header class="site-header">
    <div class="container">
      <h1>Organização Esperança</h1>
      <nav aria-label="Menu principal">
        <ul class="main-nav">
          <li><a href="index.html">Início</a></li>
          <li><a href="projetos.html">Projetos</a></li>
          <li><a href="cadastro.html" aria-current="page">Cadastro</a></li>
        </ul>
      </nav>
      <div class="hamburger" aria-label="Menu mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
  </header>

  <main class="container">
    <article>
      <header>
        <h2>Cadastro de Voluntário</h2>
        <p class="lead">Preencha o formulário abaixo para se cadastrar em nossos projetos sociais.</p>
      </header>

      <form id="form-cadastro" novalidate>
        <fieldset>
          <legend>Informações Pessoais</legend>
          <label for="nome">Nome completo *</label>
          <input id="nome" required />
          <label for="email">E-mail *</label>
          <input id="email" type="email" required />
          <label for="cpf">CPF *</label>
          <input id="cpf" required maxlength="14" />
          <label for="telefone">Telefone *</label>
          <input id="telefone" required maxlength="15" />
          <label for="nascimento">Data de Nascimento *</label>
          <input id="nascimento" type="date" required />
        </fieldset>

        <fieldset>
          <legend>Endereço</legend>
          <label for="endereco">Endereço *</label>
          <input id="endereco" required />
          <label for="cep">CEP *</label>
          <input id="cep" required maxlength="9" />
          <label for="cidade">Cidade *</label>
          <input id="cidade" required />
          <label for="estado">Estado *</label>
          <select id="estado" required>
            <option value="">Selecione...</option>
            <option>SP</option><option>RJ</option><option>MG</option><option>BA</option>
            <option>RS</option><option>PR</option><option>SC</option><option>GO</option>
          </select>
        </fieldset>

        <fieldset>
          <legend>Área de Interesse</legend>
          <label for="interesse">Selecione uma opção *</label>
          <select id="interesse" required>
            <option value="">Selecione...</option>
            <option>Educação</option>
            <option>Alimentação</option>
            <option>Eventos</option>
          </select>
          <label for="mensagem">Mensagem (opcional)</label>
          <textarea id="mensagem" rows="5"></textarea>
        </fieldset>

        <button type="submit">Enviar</button>
      </form>
    </article>
  </main>

  <footer class="site-footer">
    <p>&copy; <span id="ano3"></span> Organização Esperança</p>
  </footer>

  <div class="toast-container" id="toast-container"></div>

  <script>
    document.getElementById("ano3").textContent = new Date().getFullYear();

    const form = document.getElementById("form-cadastro");
    const toastContainer = document.getElementById("toast-container");

    function showToast(message, type = "success") {
      const toast = document.createElement("div");
      toast.className = `toast ${type}`;
      toast.textContent = message;
      toastContainer.appendChild(toast);
      setTimeout(() => toast.remove(), 5000); // fica 5s na tela
    }

    function mascara(i, t) {
      let v = i.value.replace(/\D/g, '');
      if(t === 'cpf') i.value = v.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
      if(t === 'telefone') i.value = v.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
      if(t === 'cep') i.value = v.replace(/(\d{5})(\d{3})/, "$1-$2");
    }

    document.getElementById('cpf').addEventListener('input', e => mascara(e.target, 'cpf'));
    document.getElementById('telefone').addEventListener('input', e => mascara(e.target, 'telefone'));
    document.getElementById('cep').addEventListener('input', e => mascara(e.target, 'cep'));

    form.addEventListener("submit", e => {
      e.preventDefault();
      const campos = form.querySelectorAll("input[required], select[required]");
      let valido = true;

      campos.forEach(campo => {
        if (!campo.value.trim()) {
          valido = false;
          showToast(`O campo "${campo.previousElementSibling.textContent.replace('*','').trim()}" está em branco.`, "error");
        }
      });

      // valida CPF
      const cpf = document.getElementById("cpf").value;
      if (cpf && !/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(cpf)) {
        valido = false;
        showToast("CPF inválido. Use o formato 000.000.000-00.", "error");
      }

      // valida CEP
      const cep = document.getElementById("cep").value;
      if (cep && !/^\d{5}-\d{3}$/.test(cep)) {
        valido = false;
        showToast("CEP inválido. Use o formato 00000-000.", "error");
      }

      if (valido) {
        showToast("Cadastro realizado com sucesso!", "success");
        form.reset();
      }
    });

    // Menu hamburger
    const hamburger = document.querySelector('.hamburger');
    const nav = document.querySelector('.main-nav');
    hamburger.addEventListener('click', () => {
      nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
    });
  </script>
</body>
</html>
